<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1143px" preserveAspectRatio="none" style="width:1024px;height:1143px;background:#FFFFFF;" version="1.1" viewBox="0 0 1024 1143" width="1024px" zoomAndPan="magnify"><title>Fluxo de Autentica&#231;&#227;o M&#250;tua entre Cliente e Servidor</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="424.6963" x="295.8779" y="27.9951">Fluxo de Autentica&#231;&#227;o M&#250;tua entre Cliente e Servidor</text><g><title>Cliente</title><rect fill="#000000" fill-opacity="0.00000" height="944.5859" width="8" x="29.5718" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="33" x2="33" y1="118.5938" y2="1063.1797"/></g><g><title>Servidor</title><rect fill="#000000" fill-opacity="0.00000" height="944.5859" width="8" x="463.8374" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="467.5181" x2="467.5181" y1="118.5938" y2="1063.1797"/></g><g><title>Autoridade Certificadora .AC.</title><rect fill="#000000" fill-opacity="0.00000" height="944.5859" width="8" x="898.103" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="901.7539" x2="901.7539" y1="118.5938" y2="1063.1797"/></g><g class="participant participant-head" data-participant="Cliente"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.1436" x="6" y="115.292">Cliente</text><ellipse cx="33.5718" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M33.5718,58.7969 L33.5718,85.7969 M20.5718,66.7969 L46.5718,66.7969 M33.5718,85.7969 L20.5718,100.7969 M33.5718,85.7969 L46.5718,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Cliente"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.1436" x="6" y="1075.1748">Cliente</text><ellipse cx="33.5718" cy="1086.9766" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M33.5718,1094.9766 L33.5718,1121.9766 M20.5718,1102.9766 L46.5718,1102.9766 M33.5718,1121.9766 L20.5718,1136.9766 M33.5718,1121.9766 L46.5718,1136.9766" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="S"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6387" x="431.5181" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6387" x="438.5181" y="107.292">Servidor</text></g><g class="participant participant-tail" data-participant="S"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6387" x="431.5181" y="1062.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6387" x="438.5181" y="1082.1748">Servidor</text></g><g class="participant participant-head" data-participant="AC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220.6982" x="791.7539" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.6982" x="798.7539" y="107.292">Autoridade Certificadora (AC)</text></g><g class="participant participant-tail" data-participant="AC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220.6982" x="791.7539" y="1062.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.6982" x="798.7539" y="1082.1748">Autoridade Certificadora (AC)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1017.4521" x="0" y="149.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1017.4521" y1="149.1602" y2="149.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1017.4521" y1="152.1602" y2="152.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="356.7417" x="330.3552" y="138.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="338.2158" x="336.3552" y="154.6606">FASE 1: Autentica&#231;&#227;o do Servidor pelo Cliente</text><g class="message" data-participant-1="Cliente" data-participant-2="S"><polygon fill="#181818" points="455.8374,188.8594,465.8374,192.8594,455.8374,196.8594,459.8374,192.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="461.8374" y1="192.8594" y2="192.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.9072" x="40.5718" y="187.7935">Solicita conex&#227;o segura (in&#237;cio da sess&#227;o TLS/SSL)</text></g><g class="message" data-participant-1="S" data-participant-2="AC"><polygon fill="#181818" points="890.103,217.9922,900.103,221.9922,890.103,225.9922,894.103,221.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8374" x2="896.103" y1="221.9922" y2="221.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.8794" x="474.8374" y="216.9263">Envia certificado do servidor (assinado pela AC)</text></g><g class="message" data-participant-1="S" data-participant-2="Cliente"><polygon fill="#181818" points="44.5718,247.125,34.5718,251.125,44.5718,255.125,40.5718,251.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.5718" x2="466.8374" y1="251.125" y2="251.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.707" x="50.5718" y="246.0591">Recebe certificado do servidor</text></g><g class="message" data-participant-1="Cliente" data-participant-2="AC"><polygon fill="#181818" points="890.103,276.2578,900.103,280.2578,890.103,284.2578,894.103,280.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="896.103" y1="280.2578" y2="280.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264.8115" x="40.5718" y="275.1919">Valida cadeia de certificados do servidor</text></g><g class="message" data-participant-1="Cliente" data-participant-2="Cliente"><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="75.5718" y1="309.3906" y2="309.3906"/><line style="stroke:#181818;stroke-width:1;" x1="75.5718" x2="75.5718" y1="309.3906" y2="322.3906"/><line style="stroke:#181818;stroke-width:1;" x1="34.5718" x2="75.5718" y1="322.3906" y2="322.3906"/><polygon fill="#181818" points="44.5718,318.3906,34.5718,322.3906,44.5718,326.3906,40.5718,322.3906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.7583" x="40.5718" y="304.3247">Extrai chave p&#250;blica do servidor</text></g><g class="message" data-participant-1="Cliente" data-participant-2="Cliente"><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="75.5718" y1="351.5234" y2="351.5234"/><line style="stroke:#181818;stroke-width:1;" x1="75.5718" x2="75.5718" y1="351.5234" y2="364.5234"/><line style="stroke:#181818;stroke-width:1;" x1="34.5718" x2="75.5718" y1="364.5234" y2="364.5234"/><polygon fill="#181818" points="44.5718,360.5234,34.5718,364.5234,44.5718,368.5234,40.5718,364.5234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.7778" x="40.5718" y="346.4575">Gera nonce_cliente (valor aleat&#243;rio)</text></g><g class="message" data-participant-1="Cliente" data-participant-2="S"><polygon fill="#181818" points="455.8374,389.6563,465.8374,393.6563,455.8374,397.6563,459.8374,393.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="461.8374" y1="393.6563" y2="393.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382.3511" x="40.5718" y="388.5903">Envia nonce_cliente cifrado com chave p&#250;blica do servidor</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#181818;stroke-width:1;" x1="467.8374" x2="509.8374" y1="422.7891" y2="422.7891"/><line style="stroke:#181818;stroke-width:1;" x1="509.8374" x2="509.8374" y1="422.7891" y2="435.7891"/><line style="stroke:#181818;stroke-width:1;" x1="468.8374" x2="509.8374" y1="435.7891" y2="435.7891"/><polygon fill="#181818" points="478.8374,431.7891,468.8374,435.7891,478.8374,439.7891,474.8374,435.7891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318.5" x="474.8374" y="417.7231">Descriptografa nonce_cliente com chave privada</text></g><g class="message" data-participant-1="S" data-participant-2="Cliente"><polygon fill="#181818" points="44.5718,460.9219,34.5718,464.9219,44.5718,468.9219,40.5718,464.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.5718" x2="466.8374" y1="464.9219" y2="464.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242.2329" x="50.5718" y="459.856">Retorna nonce_cliente em texto puro</text></g><g class="message" data-participant-1="Cliente" data-participant-2="Cliente"><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="75.5718" y1="494.0547" y2="494.0547"/><line style="stroke:#181818;stroke-width:1;" x1="75.5718" x2="75.5718" y1="494.0547" y2="507.0547"/><line style="stroke:#181818;stroke-width:1;" x1="34.5718" x2="75.5718" y1="507.0547" y2="507.0547"/><polygon fill="#181818" points="44.5718,503.0547,34.5718,507.0547,44.5718,511.0547,40.5718,507.0547" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420.2656" x="40.5718" y="488.9888">Compara resposta com nonce original (valida&#231;&#227;o bem-sucedida)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1017.4521" x="0" y="535.6211"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1017.4521" y1="535.6211" y2="535.6211"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1017.4521" y1="538.6211" y2="538.6211"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="356.7417" x="330.3552" y="525.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="338.2158" x="336.3552" y="541.1216">FASE 2: Autentica&#231;&#227;o do Cliente pelo Servidor</text><g class="message" data-participant-1="S" data-participant-2="Cliente"><polygon fill="#181818" points="44.5718,575.3203,34.5718,579.3203,44.5718,583.3203,40.5718,579.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.5718" x2="466.8374" y1="579.3203" y2="579.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.2651" x="50.5718" y="574.2544">Solicita certificado do cliente</text></g><g class="message" data-participant-1="Cliente" data-participant-2="AC"><polygon fill="#181818" points="890.103,604.4531,900.103,608.4531,890.103,612.4531,894.103,608.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="896.103" y1="608.4531" y2="608.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302.6118" x="40.5718" y="603.3872">Envia certificado do cliente (assinado pela AC)</text></g><g class="message" data-participant-1="Cliente" data-participant-2="S"><polygon fill="#181818" points="455.8374,633.5859,465.8374,637.5859,455.8374,641.5859,459.8374,637.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="461.8374" y1="637.5859" y2="637.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.4395" x="40.5718" y="632.52">Recebe certificado do cliente</text></g><g class="message" data-participant-1="S" data-participant-2="AC"><polygon fill="#181818" points="890.103,662.7188,900.103,666.7188,890.103,670.7188,894.103,666.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8374" x2="896.103" y1="666.7188" y2="666.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.5439" x="474.8374" y="661.6528">Valida cadeia de certificados do cliente</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#181818;stroke-width:1;" x1="467.8374" x2="509.8374" y1="695.8516" y2="695.8516"/><line style="stroke:#181818;stroke-width:1;" x1="509.8374" x2="509.8374" y1="695.8516" y2="708.8516"/><line style="stroke:#181818;stroke-width:1;" x1="468.8374" x2="509.8374" y1="708.8516" y2="708.8516"/><polygon fill="#181818" points="478.8374,704.8516,468.8374,708.8516,478.8374,712.8516,474.8374,708.8516" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4907" x="474.8374" y="690.7856">Extrai chave p&#250;blica do cliente</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#181818;stroke-width:1;" x1="467.8374" x2="509.8374" y1="737.9844" y2="737.9844"/><line style="stroke:#181818;stroke-width:1;" x1="509.8374" x2="509.8374" y1="737.9844" y2="750.9844"/><line style="stroke:#181818;stroke-width:1;" x1="468.8374" x2="509.8374" y1="750.9844" y2="750.9844"/><polygon fill="#181818" points="478.8374,746.9844,468.8374,750.9844,478.8374,754.9844,474.8374,750.9844" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.0454" x="474.8374" y="732.9185">Gera nonce_servidor (valor aleat&#243;rio)</text></g><g class="message" data-participant-1="S" data-participant-2="Cliente"><polygon fill="#181818" points="44.5718,776.1172,34.5718,780.1172,44.5718,784.1172,40.5718,780.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.5718" x2="466.8374" y1="780.1172" y2="780.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382.3511" x="50.5718" y="775.0513">Envia nonce_servidor cifrado com chave p&#250;blica do cliente</text></g><g class="message" data-participant-1="Cliente" data-participant-2="Cliente"><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="75.5718" y1="809.25" y2="809.25"/><line style="stroke:#181818;stroke-width:1;" x1="75.5718" x2="75.5718" y1="809.25" y2="822.25"/><line style="stroke:#181818;stroke-width:1;" x1="34.5718" x2="75.5718" y1="822.25" y2="822.25"/><polygon fill="#181818" points="44.5718,818.25,34.5718,822.25,44.5718,826.25,40.5718,822.25" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.7676" x="40.5718" y="804.1841">Descriptografa nonce_servidor com chave privada</text></g><g class="message" data-participant-1="Cliente" data-participant-2="S"><polygon fill="#181818" points="455.8374,847.3828,465.8374,851.3828,455.8374,855.3828,459.8374,851.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="461.8374" y1="851.3828" y2="851.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.5005" x="40.5718" y="846.3169">Retorna nonce_servidor em texto puro</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#181818;stroke-width:1;" x1="467.8374" x2="509.8374" y1="880.5156" y2="880.5156"/><line style="stroke:#181818;stroke-width:1;" x1="509.8374" x2="509.8374" y1="880.5156" y2="893.5156"/><line style="stroke:#181818;stroke-width:1;" x1="468.8374" x2="509.8374" y1="893.5156" y2="893.5156"/><polygon fill="#181818" points="478.8374,889.5156,468.8374,893.5156,478.8374,897.5156,474.8374,893.5156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420.2656" x="474.8374" y="875.4497">Compara resposta com nonce original (valida&#231;&#227;o bem-sucedida)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1017.4521" x="0" y="922.082"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1017.4521" y1="922.082" y2="922.082"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1017.4521" y1="925.082" y2="925.082"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="214.3892" x="401.5315" y="911.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195.8633" x="407.5315" y="927.5825">FASE 3: Valida&#231;&#227;o Cruzada</text><g class="message" data-participant-1="Cliente" data-participant-2="S"><polygon fill="#181818" points="455.8374,961.7813,465.8374,965.7813,455.8374,969.7813,459.8374,965.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.5718" x2="461.8374" y1="965.7813" y2="965.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.437" x="40.5718" y="960.7153">Confirma autentica&#231;&#227;o do servidor</text></g><g class="message" data-participant-1="S" data-participant-2="Cliente"><polygon fill="#181818" points="44.5718,990.9141,34.5718,994.9141,44.5718,998.9141,40.5718,994.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.5718" x2="466.8374" y1="994.9141" y2="994.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.1694" x="50.5718" y="989.8481">Confirma autentica&#231;&#227;o do cliente</text></g><path d="M5,1007.9141 L5,1047.9141 L498,1047.9141 L498,1017.9141 L488,1007.9141 L5,1007.9141" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M488,1007.9141 L488,1017.9141 L498,1017.9141 L488,1007.9141" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383.8999" x="55.1284" y="1024.981">Ambos confirmam identidade e estabelecem canal seguro.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.6089" x="55.1284" y="1040.1138">A comunica&#231;&#227;o passa a ser criptografada simetricamente.</text><!--SRC=[hPI_Rjim4CPtFSKXamqqATfkHXr0K9CkwH8MNOipTNO9IAH0KeBHr-dGgLEth7gn7cNh3stPxL1e8SZxxhix_aIlV47mMDHx0pb1MdlINabiVxO_37ngNtoDm5kM82iKBmW81Db6vSOc2KflR7-IL6XPgohK7cxwe1j01o8-OnjZLOxic17lRzcHGn4MQRRi16cM9EirFARY0TwiJklApL03L5IOeRRrEadwzUqzY1K8Kx2jHv16qpw87UtgOALq-qigJeQyvLmu-lmaNWlnj4n4KAVP2XvqerWx5XcyNU-zGEUK3hjS1R9WERY_lmtkpoHfGvVqqrA3sHSiU2Z0OSIcUQHpbuJ79PUwznOLo6_O45JjouORnx-gFXBFGXijwQiy7YyQBBWvB0Xz-zigipoPwM4eiKYghGtjILDUAq4SKtmW9wsglDbPt9xb6dDOrM2E1zbGypCnFlfKHILusdk-YzgQsLupKpA629PSPLp7H7b80epZZc-ow9hdIpXmjg7orjMISjvPZa2-dGEoD-nu7EWCGCR5Zq36K1pRE6LY5i3Xfixv4u6yoQJc-Ekjn3-35od45TPE0oTuZN_DEL_nYAPy3QhhWCrCRqWtozgOzmos6FOOja4MqzQt-xy8UzVVoI4gi_LthcpcUSkCtYfR8k0PaF4_D_a9BYhw8Mh3-Kr3myl-YX_mjDmm2_AeBa7bGTszuVnnhnigc3OU9eOkkrVMt2Lf646j1vkAaMNlK1rCRYKymgeaRpcm39Pt2UaSGYL_0000]--></g></svg>